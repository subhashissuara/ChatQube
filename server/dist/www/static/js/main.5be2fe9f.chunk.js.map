{"version":3,"sources":["helpers/objectid.js","images/message.png","images/send.png","images/avatarDefault.png","config.js","service.js","realtime.js","store.js","components/SearchUser.js","components/UserForm.js","components/UserMenu.js","components/UserBar.js","components/Messenger.js","components/App.js","index.js"],"names":["MACHINE_ID","parseInt","Math","random","checkForHexRegExp","RegExp","Buffer","from","hasBufferType","err","ObjectID","id","this","_bsontype","generate","cacheHexString","__id","toString","valid","isValid","Error","length","createFromHexString","toHexString","hexTable","i","prototype","hexString","JSON","stringify","_Buffer","convertToHex","charCodeAt","get_inc","index","getInc","time","Date","now","pid","process","floor","inc","buffer","format","copy","inspect","toJSON","equals","otherId","toLowerCase","getTimestamp","timestamp","setTime","createPk","createFromTime","decodeLookup","bytes","string","array","n","test","Object","defineProperty","enumerable","get","set","value","module","exports","ObjectId","webSocketUrl","apiURL","Service","endpoint","options","url","axios","data","headers","post","Realtime","store","ws","isConnected","connect","reconnect","window","setInterval","getCurrentUser","msg","message","parse","error","console","log","currentUser","currentUserId","_","decodeMessage","action","payload","onUpdateUserStatus","activeChannel","getActiveChannel","notify","onAddMessage","onAddChannel","userId","isOnline","users","update","user","online","addUserToCache","messageObject","_id","body","channelId","created","me","setMessage","channel","title","isNew","lastMessage","members","OrderedMap","messages","each","memberId","filter","forEach","msgId","addChannel","msgString","send","tokenId","getUserTokenId","WebSocket","onopen","authentication","onmessage","event","readMessage","onclose","onerror","Store","appComponent","app","service","channels","activeChannelId","token","getTokenFromLocalStorage","search","realtime","fetchUserChannels","getUserFromLocalStorage","userToken","authorization","then","response","firstChannelId","fetchChannelMessages","catch","avatar","loadUserAvatar","query","clear","accessToken","localStorage","removeItem","setItem","clearCacheData","remove","getItem","setCurrentUser","setUserToken","signOut","Promise","resolve","reject","email","password","userEmail","toLower","valueSeq","isFetchedMessages","first","obj","key","loggedUser","setActiveChannelId","sort","a","b","updated","forceUpdate","SearchUser","props","handleOnClick","bind","onSelect","getSearchUsers","className","map","onClick","src","alt","Component","UserForm","state","isLogin","name","onSubmit","onTextFieldChange","onClickOutside","ref","contains","target","onClose","addEventListener","removeEventListener","preventDefault","setState","login","type","register","method","classNames","onChange","placeholder","autoComplete","UserMenu","UserBar","showUserForm","showUserMenu","profilePicture","avatarDefault","Messenger","height","innerHeight","newMessage","searchUser","showSearchUser","_onResize","handleSend","renderMessage","scrollToBottomMessage","_onCreateChannel","renderChannelTitle","renderChannelAvatars","getMembersFromChannel","total","size","avatars","names","push","join","onCreateNewChannel","messageRef","scrollTop","scrollHeight","messageBody","split","m","dangerouslySetInnerHTML","__html","trim","messageId","addMessage","messengerStyle","getMessagesFromChannel","getChannels","messageIcon","removeMemberFromChannel","searchUserText","startSearchUsers","addUserToChannel","style","onKeyUp","shiftKey","cols","rows","sendIcon","member","moment","fromNow","href","App","updateUserOnLoad","isMobile","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5be2fe9f.chunk.js","sourcesContent":["/**\r\n * Machine id.\r\n *\r\n * Create a random 3-byte value (i.e. unique for this\r\n * process). Other drivers use a md5 of the machine id here, but\r\n * that would mean an asyc call to gethostname, so we don't bother.\r\n * @ignore\r\n */\r\nvar MACHINE_ID = parseInt(Math.random() * 0xffffff, 10);\r\n\r\n// Regular expression that checks for hex value\r\nvar checkForHexRegExp = new RegExp('^[0-9a-fA-F]{24}$');\r\n\r\n// Check if buffer exists\r\ntry {\r\n    if (Buffer && Buffer.from) var hasBufferType = true;\r\n} catch (err) {\r\n    hasBufferType = false;\r\n}\r\n\r\n/**\r\n * Create a new ObjectID instance\r\n *\r\n * @class\r\n * @param {(string|number)} id Can be a 24 byte hex string, 12 byte binary string or a Number.\r\n * @property {number} generationTime The generation time of this ObjectId instance\r\n * @return {ObjectID} instance of ObjectID.\r\n */\r\nvar ObjectID = function ObjectID(id) {\r\n    // Duck-typing to support ObjectId from different npm packages\r\n    if (id instanceof ObjectID) return id;\r\n    if (!(this instanceof ObjectID)) return new ObjectID(id);\r\n\r\n    this._bsontype = 'ObjectID';\r\n\r\n    // The most common usecase (blank id, new objectId instance)\r\n    if (id == null || typeof id === 'number') {\r\n        // Generate a new id\r\n        this.id = this.generate(id);\r\n        // If we are caching the hex string\r\n        if (ObjectID.cacheHexString) this.__id = this.toString('hex');\r\n        // Return the object\r\n        return;\r\n    }\r\n\r\n    // Check if the passed in id is valid\r\n    var valid = ObjectID.isValid(id);\r\n\r\n    // Throw an error if it's not a valid setup\r\n    if (!valid && id != null) {\r\n        throw new Error(\r\n            'Argument passed in must be a single String of 12 bytes or a string of 24 hex characters'\r\n        );\r\n    } else if (valid && typeof id === 'string' && id.length === 24 && hasBufferType) {\r\n        return new ObjectID(new Buffer(id, 'hex'));\r\n    } else if (valid && typeof id === 'string' && id.length === 24) {\r\n        return ObjectID.createFromHexString(id);\r\n    } else if (id != null && id.length === 12) {\r\n        // assume 12 byte string\r\n        this.id = id;\r\n    } else if (id != null && id.toHexString) {\r\n        // Duck-typing to support ObjectId from different npm packages\r\n        return id;\r\n    } else {\r\n        throw new Error(\r\n            'Argument passed in must be a single String of 12 bytes or a string of 24 hex characters'\r\n        );\r\n    }\r\n\r\n    if (ObjectID.cacheHexString) this.__id = this.toString('hex');\r\n};\r\n\r\n// Allow usage of ObjectId as well as ObjectID\r\n// var ObjectId = ObjectID;\r\n\r\n// Precomputed hex table enables speedy hex string conversion\r\nvar hexTable = [];\r\nfor (var i = 0; i < 256; i++) {\r\n    hexTable[i] = (i <= 15 ? '0' : '') + i.toString(16);\r\n}\r\n\r\n/**\r\n * Return the ObjectID id as a 24 byte hex string representation\r\n *\r\n * @method\r\n * @return {string} return the 24 byte hex string representation.\r\n */\r\nObjectID.prototype.toHexString = function() {\r\n    if (ObjectID.cacheHexString && this.__id) return this.__id;\r\n\r\n    var hexString = '';\r\n    if (!this.id || !this.id.length) {\r\n        throw new Error(\r\n            'invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is [' +\r\n            JSON.stringify(this.id) +\r\n            ']'\r\n        );\r\n    }\r\n\r\n    if (this.id instanceof _Buffer) {\r\n        hexString = convertToHex(this.id);\r\n        if (ObjectID.cacheHexString) this.__id = hexString;\r\n        return hexString;\r\n    }\r\n\r\n    for (var i = 0; i < this.id.length; i++) {\r\n        hexString += hexTable[this.id.charCodeAt(i)];\r\n    }\r\n\r\n    if (ObjectID.cacheHexString) this.__id = hexString;\r\n    return hexString;\r\n};\r\n\r\n/**\r\n * Update the ObjectID index used in generating new ObjectID's on the driver\r\n *\r\n * @method\r\n * @return {number} returns next index value.\r\n * @ignore\r\n */\r\nObjectID.prototype.get_inc = function() {\r\n    return (ObjectID.index = (ObjectID.index + 1) % 0xffffff);\r\n};\r\n\r\n/**\r\n * Update the ObjectID index used in generating new ObjectID's on the driver\r\n *\r\n * @method\r\n * @return {number} returns next index value.\r\n * @ignore\r\n */\r\nObjectID.prototype.getInc = function() {\r\n    return this.get_inc();\r\n};\r\n\r\n/**\r\n * Generate a 12 byte id buffer used in ObjectID's\r\n *\r\n * @method\r\n * @param {number} [time] optional parameter allowing to pass in a second based timestamp.\r\n * @return {Buffer} return the 12 byte id buffer string.\r\n */\r\nObjectID.prototype.generate = function(time) {\r\n    if ('number' !== typeof time) {\r\n        time = ~~(Date.now() / 1000);\r\n    }\r\n\r\n    // Use pid\r\n    var pid =\r\n        (typeof process === 'undefined' || process.pid === 1\r\n            ? Math.floor(Math.random() * 100000)\r\n            : process.pid) % 0xffff;\r\n    var inc = this.get_inc();\r\n    // Buffer used\r\n    var buffer = new Buffer(12);\r\n    // Encode time\r\n    buffer[3] = time & 0xff;\r\n    buffer[2] = (time >> 8) & 0xff;\r\n    buffer[1] = (time >> 16) & 0xff;\r\n    buffer[0] = (time >> 24) & 0xff;\r\n    // Encode machine\r\n    buffer[6] = MACHINE_ID & 0xff;\r\n    buffer[5] = (MACHINE_ID >> 8) & 0xff;\r\n    buffer[4] = (MACHINE_ID >> 16) & 0xff;\r\n    // Encode pid\r\n    buffer[8] = pid & 0xff;\r\n    buffer[7] = (pid >> 8) & 0xff;\r\n    // Encode index\r\n    buffer[11] = inc & 0xff;\r\n    buffer[10] = (inc >> 8) & 0xff;\r\n    buffer[9] = (inc >> 16) & 0xff;\r\n    // Return the buffer\r\n    return buffer;\r\n};\r\n\r\n/**\r\n * Converts the id into a 24 byte hex string for printing\r\n *\r\n * @param {String} format The Buffer toString format parameter.\r\n * @return {String} return the 24 byte hex string representation.\r\n * @ignore\r\n */\r\nObjectID.prototype.toString = function(format) {\r\n    // Is the id a buffer then use the buffer toString method to return the format\r\n    if (this.id && this.id.copy) {\r\n        return this.id.toString(typeof format === 'string' ? format : 'hex');\r\n    }\r\n\r\n    // if(this.buffer )\r\n    return this.toHexString();\r\n};\r\n\r\n/**\r\n * Converts to a string representation of this Id.\r\n *\r\n * @return {String} return the 24 byte hex string representation.\r\n * @ignore\r\n */\r\nObjectID.prototype.inspect = ObjectID.prototype.toString;\r\n\r\n/**\r\n * Converts to its JSON representation.\r\n *\r\n * @return {String} return the 24 byte hex string representation.\r\n * @ignore\r\n */\r\nObjectID.prototype.toJSON = function() {\r\n    return this.toHexString();\r\n};\r\n\r\n/**\r\n * Compares the equality of this ObjectID with `otherID`.\r\n *\r\n * @method\r\n * @param {object} otherID ObjectID instance to compare against.\r\n * @return {boolean} the result of comparing two ObjectID's\r\n */\r\nObjectID.prototype.equals = function equals(otherId) {\r\n    // var id;\r\n\r\n    if (otherId instanceof ObjectID) {\r\n        return this.toString() === otherId.toString();\r\n    } else if (\r\n        typeof otherId === 'string' &&\r\n        ObjectID.isValid(otherId) &&\r\n        otherId.length === 12 &&\r\n        this.id instanceof _Buffer\r\n    ) {\r\n        return otherId === this.id.toString('binary');\r\n    } else if (typeof otherId === 'string' && ObjectID.isValid(otherId) && otherId.length === 24) {\r\n        return otherId.toLowerCase() === this.toHexString();\r\n    } else if (typeof otherId === 'string' && ObjectID.isValid(otherId) && otherId.length === 12) {\r\n        return otherId === this.id;\r\n    } else if (otherId != null && (otherId instanceof ObjectID || otherId.toHexString)) {\r\n        return otherId.toHexString() === this.toHexString();\r\n    } else {\r\n        return false;\r\n    }\r\n};\r\n\r\n/**\r\n * Returns the generation date (accurate up to the second) that this ID was generated.\r\n *\r\n * @method\r\n * @return {date} the generation date\r\n */\r\nObjectID.prototype.getTimestamp = function() {\r\n    var timestamp = new Date();\r\n    var time = this.id[3] | (this.id[2] << 8) | (this.id[1] << 16) | (this.id[0] << 24);\r\n    timestamp.setTime(Math.floor(time) * 1000);\r\n    return timestamp;\r\n};\r\n\r\n/**\r\n * @ignore\r\n */\r\nObjectID.index = ~~(Math.random() * 0xffffff);\r\n\r\n/**\r\n * @ignore\r\n */\r\nObjectID.createPk = function createPk() {\r\n    return new ObjectID();\r\n};\r\n\r\n/**\r\n * Creates an ObjectID from a second based number, with the rest of the ObjectID zeroed out. Used for comparisons or sorting the ObjectID.\r\n *\r\n * @method\r\n * @param {number} time an integer number representing a number of seconds.\r\n * @return {ObjectID} return the created ObjectID\r\n */\r\nObjectID.createFromTime = function createFromTime(time) {\r\n    var buffer = new Buffer([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]);\r\n    // Encode time into first 4 bytes\r\n    buffer[3] = time & 0xff;\r\n    buffer[2] = (time >> 8) & 0xff;\r\n    buffer[1] = (time >> 16) & 0xff;\r\n    buffer[0] = (time >> 24) & 0xff;\r\n    // Return the new objectId\r\n    return new ObjectID(buffer);\r\n};\r\n\r\n// Lookup tables\r\n//var encodeLookup = '0123456789abcdef'.split('');\r\nvar decodeLookup = [];\r\ni = 0;\r\nwhile (i < 10) decodeLookup[0x30 + i] = i++;\r\nwhile (i < 16) decodeLookup[0x41 - 10 + i] = decodeLookup[0x61 - 10 + i] = i++;\r\n\r\nvar _Buffer = Buffer;\r\nvar convertToHex = function(bytes) {\r\n    return bytes.toString('hex');\r\n};\r\n\r\n/**\r\n * Creates an ObjectID from a hex string representation of an ObjectID.\r\n *\r\n * @method\r\n * @param {string} hexString create a ObjectID from a passed in 24 byte hexstring.\r\n * @return {ObjectID} return the created ObjectID\r\n */\r\nObjectID.createFromHexString = function createFromHexString(string) {\r\n    // Throw an error if it's not a valid setup\r\n    if (typeof string === 'undefined' || (string != null && string.length !== 24)) {\r\n        throw new Error(\r\n            'Argument passed in must be a single String of 12 bytes or a string of 24 hex characters'\r\n        );\r\n    }\r\n\r\n    // Use Buffer.from method if available\r\n    if (hasBufferType) return new ObjectID(new Buffer(string, 'hex'));\r\n\r\n    // Calculate lengths\r\n    var array = new _Buffer(12);\r\n    var n = 0;\r\n    var i = 0;\r\n\r\n    while (i < 24) {\r\n        array[n++] = (decodeLookup[string.charCodeAt(i++)] << 4) | decodeLookup[string.charCodeAt(i++)];\r\n    }\r\n\r\n    return new ObjectID(array);\r\n};\r\n\r\n/**\r\n * Checks if a value is a valid bson ObjectId\r\n *\r\n * @method\r\n * @return {boolean} return true if the value is a valid bson ObjectId, return false otherwise.\r\n */\r\nObjectID.isValid = function isValid(id) {\r\n    if (id == null) return false;\r\n\r\n    if (typeof id === 'number') {\r\n        return true;\r\n    }\r\n\r\n    if (typeof id === 'string') {\r\n        return id.length === 12 || (id.length === 24 && checkForHexRegExp.test(id));\r\n    }\r\n\r\n    if (id instanceof ObjectID) {\r\n        return true;\r\n    }\r\n\r\n    if (id instanceof _Buffer) {\r\n        return true;\r\n    }\r\n\r\n    // Duck-Typing detection of ObjectId like objects\r\n    if (id.toHexString) {\r\n        return id.id.length === 12 || (id.id.length === 24 && checkForHexRegExp.test(id.id));\r\n    }\r\n\r\n    return false;\r\n};\r\n\r\n/**\r\n * @ignore\r\n */\r\nObject.defineProperty(ObjectID.prototype, 'generationTime', {\r\n    enumerable: true,\r\n    get: function() {\r\n        return this.id[3] | (this.id[2] << 8) | (this.id[1] << 16) | (this.id[0] << 24);\r\n    },\r\n    set: function(value) {\r\n        // Encode time into first 4 bytes\r\n        this.id[3] = value & 0xff;\r\n        this.id[2] = (value >> 8) & 0xff;\r\n        this.id[1] = (value >> 16) & 0xff;\r\n        this.id[0] = (value >> 24) & 0xff;\r\n    }\r\n});\r\n\r\n/**\r\n * Expose.\r\n */\r\nmodule.exports = ObjectID;\r\nmodule.exports.ObjectID = ObjectID;\r\nmodule.exports.ObjectId = ObjectID;","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","export const production = true; // true for deployment, false for Dev\r\n\r\nconst domain = production ? '104.211.213.174' : '127.0.0.1:3001';\r\nexport const webSocketUrl = `ws://${domain}`;\r\nexport const backendApiURL = `http://${domain}`;","import axios from 'axios';\r\nimport {backendApiURL} from './config'\r\n\r\nconst apiURL = backendApiURL;\r\n\r\nclass Service{\r\n    get(endpoint, options = null){\r\n        const url = `${apiURL}/${endpoint}`;\r\n        return axios.get(url, options);\r\n    }\r\n\r\n    post(endpoint = \"\", data = {}, options = {headers: {'Content-Type': 'application/json'}}){\r\n        const url = `${apiURL}/${endpoint}`;\r\n        return axios.post(url, data, options);\r\n    }\r\n}\r\n\r\nexport default Service;","import _ from 'lodash';\r\nimport {OrderedMap} from 'immutable';\r\nimport {webSocketUrl} from './config'\r\n\r\nclass Realtime{\r\n    constructor(store){\r\n        this.store = store;\r\n        this.ws = null;\r\n        this.isConnected = false;\r\n        this.connect();\r\n        this.reconnect();\r\n    }\r\n\r\n    reconnect(){\r\n        const store = this.store;\r\n        window.setInterval(() => {\r\n            const user = store.getCurrentUser();\r\n            if(user && !this.isConnected){\r\n                this.connect();\r\n            }\r\n        }, 3000)\r\n    }\r\n\r\n    decodeMessage(msg){\r\n        let message = {};\r\n        if(msg){\r\n            try {\r\n                message = JSON.parse(msg);\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        }\r\n        return message;\r\n    }\r\n    readMessage(msg){\r\n        const store = this.store;\r\n        const currentUser = store.getCurrentUser();\r\n        const currentUserId = _.toString(_.get(currentUser, '_id'));\r\n        const message = this.decodeMessage(msg);\r\n        const action = _.get(message, 'action', '');\r\n        const payload = _.get(message, 'payload', '');\r\n        switch (action) {\r\n            case 'user_offline':\r\n                this.onUpdateUserStatus(payload, false);\r\n                break;\r\n\r\n            case 'user_online':\r\n                const isOnline = true;\r\n                this.onUpdateUserStatus(payload, isOnline);\r\n                break;\r\n\r\n            case 'message_added':\r\n                const activeChannel = store.getActiveChannel();\r\n                let notify = _.get(activeChannel, '_id') !== _.get(payload, 'channelId') && currentUserId !== _.get(payload, 'userId');\r\n                this.onAddMessage(payload, notify);\r\n                break;\r\n\r\n            case 'channel_added':\r\n                // Check payload and add channel to store\r\n                this.onAddChannel(payload);\r\n                break;\r\n        \r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    onUpdateUserStatus(userId, isOnline = false){\r\n        const store = this.store;\r\n        store.users = store.users.update(userId, (user) => {\r\n            if(user){\r\n                user.online = isOnline;\r\n            }\r\n            return user;\r\n        });\r\n        store.update();\r\n    }\r\n\r\n    onAddMessage(payload, notify = false){\r\n        const store = this.store;\r\n        const currentUser = store.getCurrentUser();\r\n        const currentUserId = _.toString(_.get(currentUser, '_id'));\r\n        let user = _.get(payload, 'user');\r\n\r\n        // Add User to cache\r\n        user = store.addUserToCache(user);\r\n\r\n        const messageObject = {\r\n            _id: payload._id,\r\n            body: _.get(payload, 'body', ''),\r\n            userId: _.get(payload, 'userId'),\r\n            channelId: _.get(payload, 'channelId'),\r\n            created: _.get(payload, 'created', new Date()),\r\n            me: currentUserId === _.toString(_.get(payload, 'userId')),\r\n            user: user,\r\n        };\r\n        \r\n        store.setMessage(messageObject, notify);\r\n    }\r\n\r\n    onAddChannel(payload){\r\n        const store = this.store;\r\n        const channelId = _.toString(_.get(payload, '_id'));\r\n        const userId = `${payload.userId}`;\r\n        const users = _.get(payload, 'users', []);\r\n\r\n        let channel = {\r\n            _id: channelId,\r\n            title: _.get(payload, 'title', ''),\r\n            isNew: false,\r\n            lastMessage: _.get(payload, 'lastMessage'),\r\n            members: new OrderedMap(),\r\n            messages: new OrderedMap(),\r\n            userId: userId,\r\n            created: new Date(),\r\n        };\r\n\r\n        _.each(users, (user) => {\r\n            // Add each user to store.users collection\r\n            const memberId = `${user._id}`;\r\n            this.store.addUserToCache(user);\r\n            channel.members = channel.members.set(memberId, true);\r\n        });\r\n\r\n        const channelMessages = store.messages.filter((message) => _.toString(message.channelId) === channelId);\r\n        channelMessages.forEach((msg) => {\r\n            const msgId = _.toString(_.get(msg, '_id'));\r\n            channel.messages = channel.messages.set(msgId, true);\r\n        })\r\n        store.addChannel(channelId, channel);\r\n    }\r\n\r\n    send(msg = {}){\r\n        const isConnected = this.isConnected;\r\n        if(this.ws && isConnected){\r\n            const msgString = JSON.stringify(msg);\r\n            this.ws.send(msgString);\r\n        }\r\n    }\r\n    authentication(){\r\n        const storeLocal = this.store;\r\n        const tokenId = storeLocal.getUserTokenId();\r\n        if(tokenId){\r\n            const message = {\r\n            action: 'auth',\r\n            payload: `${tokenId}`,\r\n            }\r\n            this.send(message);\r\n        }\r\n    }\r\n\r\n    connect(){\r\n        const ws = new WebSocket(webSocketUrl);\r\n        this.ws = ws;\r\n        ws.onopen = () => {\r\n            // Giving Identity to Server\r\n            this.isConnected = true;\r\n            this.authentication();\r\n\r\n            ws.onmessage = (event) => {\r\n                this.readMessage(_.get(event, 'data'));\r\n            }\r\n        }\r\n        ws.onclose = () => {\r\n            this.isConnected = false;\r\n            this.store.update();\r\n        }\r\n\r\n        ws.onerror = () => {\r\n            this.isConnected = false;\r\n            this.store.update();\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport default Realtime;","import {OrderedMap} from 'immutable';\r\nimport _ from 'lodash';\r\n// import avatarDefault from './images/avatarDefault.png';\r\nimport Service from './service';\r\nimport Realtime from './realtime';\r\n\r\n\r\nclass Store{\r\n    constructor(appComponent){\r\n        this.app = appComponent;\r\n        this.service = new Service()\r\n        this.messages = new OrderedMap();\r\n        this.channels = new OrderedMap();\r\n        this.activeChannelId = null;\r\n        this.token = this.getTokenFromLocalStorage();\r\n        this.user = null;\r\n        this.users = new OrderedMap();\r\n        this.search = {\r\n            users: new OrderedMap(),\r\n        }\r\n        this.realtime = new Realtime(this);\r\n        this.fetchUserChannels();\r\n    }\r\n\r\n    updateUserOnLoad(){\r\n        this.user = this.getUserFromLocalStorage();\r\n    }\r\n\r\n    isConnected(){\r\n        return this.realtime.isConnected;\r\n    }\r\n\r\n    fetchUserChannels(){\r\n        const userToken = this.getUserTokenId();\r\n        if(userToken){\r\n            const options = {\r\n                headers: {\r\n                    authorization: userToken,\r\n                }\r\n            }\r\n\r\n            this.service.get('api/me/channels', options).then((response) => {\r\n                const channels = response.data;\r\n                _.each(channels, (channel) => {\r\n                    this.realtime.onAddChannel(channel);\r\n                });\r\n\r\n                const firstChannelId = _.get(channels, '[0]._id', null);\r\n                this.fetchChannelMessages(firstChannelId);\r\n\r\n            }).catch((err) => {\r\n                console.log(\"Error in fetching user channels!\")\r\n            })\r\n        }\r\n    }\r\n    \r\n    addUserToCache(user){\r\n        user.avatar = this.loadUserAvatar(user);\r\n        const id = _.toString(user._id);\r\n        this.users = this.users.set(id, user);\r\n\r\n        return user;\r\n    }\r\n\r\n    getUserTokenId(){\r\n        return _.get(this.token, '_id', null);\r\n    }\r\n\r\n    loadUserAvatar(user){\r\n        let userId = _.get(user, '_id');    \r\n        return `https://api.adorable.io/avatars/100/${userId}.png`;\r\n        \r\n    }\r\n\r\n    startSearchUsers(query = ''){\r\n        // Query backend to get users from search query\r\n        const data = {search: query}\r\n        this.search.users = this.search.users.clear()\r\n        this.service.post('api/users/search', data).then((response) => {\r\n            const users = _.get(response, 'data', []);\r\n            _.each(users, (user) => {\r\n                // Caching User\r\n                user.avatar = this.loadUserAvatar(user);\r\n                const userId = _.toString(user._id);\r\n                this.users = this.users.set(userId, user);\r\n                this.search.users = this.search.users.set(userId, user);\r\n            });\r\n            this.update();\r\n        }).catch((err) => {\r\n            console.log(\"Error in Searching: \", err);\r\n        })\r\n    }\r\n\r\n    setUserToken(accessToken){\r\n        if(!accessToken){\r\n            this.localStorage.removeItem('token');\r\n            this.token = null;\r\n            return;\r\n        }\r\n        this.token = accessToken;\r\n        localStorage.setItem('token', JSON.stringify(accessToken));\r\n    }\r\n\r\n    clearCacheData(){\r\n        this.channels = this.channels.clear();\r\n        this.messages = this.messages.clear();\r\n        this.users = this.users.clear();\r\n    }\r\n\r\n    signOut(){\r\n        const userId = _.toString(_.get(this.user, '_id', null));\r\n        const tokenId = _.get(this.token, '_id', null);\r\n        // Logout from backend\r\n        const options = {\r\n            headers: {\r\n                authorization: tokenId,\r\n            }\r\n        };\r\n\r\n        this.service.get('api/me/logout', options);\r\n\r\n        this.user = null;\r\n        localStorage.removeItem('me');\r\n        localStorage.removeItem('token');\r\n\r\n        this.clearCacheData();\r\n\r\n        if(userId){\r\n            this.users = this.users.remove(userId)\r\n        }\r\n        this.update();\r\n    }\r\n\r\n    getTokenFromLocalStorage(){\r\n        if(this.token){\r\n            return this.token;\r\n        }\r\n\r\n        let token = null;\r\n\r\n        const data = localStorage.getItem('token');\r\n        if(data){\r\n            try{\r\n                token = JSON.parse(data);\r\n            }\r\n            catch(err){\r\n                console.log(err);\r\n            }\r\n        }\r\n\r\n        return token;\r\n    }\r\n\r\n    getUserFromLocalStorage(){\r\n        let user = null;\r\n        const data = localStorage.getItem('me');\r\n        try {\r\n            user = JSON.parse(data);\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n\r\n        if(user){\r\n            // Connect to server and verify user exists\r\n            const token = this.getTokenFromLocalStorage();\r\n            const tokenId = _.get(token, '_id');\r\n            const options = {\r\n                headers: {\r\n                    authorization: tokenId,\r\n                }\r\n            }\r\n            this.service.get('api/users/me', options).then((response) => {\r\n                const accessToken = response.data;\r\n                const user = _.get(accessToken, 'user');\r\n                this.setCurrentUser(user); // Causes error not mounted\r\n                this.setUserToken(accessToken);\r\n            }).catch((err) => {\r\n                this.signOut();\r\n            })\r\n        }\r\n\r\n        return user;\r\n    }\r\n\r\n    setCurrentUser(user){\r\n\r\n        // Temporary Avatar\r\n        user.avatar = this.loadUserAvatar(user);\r\n        this.user = user;\r\n        if(user){\r\n            localStorage.setItem('me', JSON.stringify(user));\r\n\r\n            const userId = `${user._id}`;\r\n            this.users = this.users.set(userId, user);\r\n            this.update(); \r\n        }\r\n    }\r\n\r\n    register(user){\r\n        return new Promise((resolve, reject) => {\r\n            this.service.post('api/users', user).then((response) => {\r\n                return resolve(response.data);\r\n            }).catch((err) => {\r\n                return reject(\"Error Creating Account!\");\r\n            })\r\n        });\r\n    }\r\n\r\n    login(email = null, password = null){\r\n        const userEmail = _.toLower(email);\r\n        \r\n        const user = {\r\n            email: userEmail,\r\n            password: password,\r\n        }\r\n\r\n        return new Promise((resolve, reject) => {\r\n            // Call backend to login the user\r\n            this.service.post('api/users/login', user).then((response) => {\r\n                // Success in Login\r\n                const accessToken = _.get(response, 'data');\r\n                const user = _.get(accessToken, 'user');\r\n\r\n                this.setCurrentUser(user);\r\n                this.setUserToken(accessToken);\r\n\r\n                // Call realtime and connect this user to socket server\r\n                this.realtime.connect();\r\n                \r\n                // Fetch User Channels\r\n                this.fetchUserChannels();\r\n            }).catch((err) => {\r\n                const message = _.get(err, 'response.data.error.message', \"Login Error!\");\r\n                return reject(message);\r\n            })\r\n        })\r\n    }\r\n    removeMemberFromChannel(channel = null, user = null){\r\n        if(!channel || !user){\r\n            return;\r\n        }\r\n        \r\n        const userId = _.get(user, '_id');\r\n        const channelId = _.get(channel, '_id')\r\n\r\n        channel.members = channel.members.remove(userId);\r\n        this.channels = this.channels.set(channelId, channel);\r\n        this.update();\r\n\r\n    }\r\n\r\n    addUserToChannel(channelId, userId){\r\n        const channel = this.channels.get(channelId);\r\n\r\n        if(channel){\r\n            channel.members = channel.members.set(userId, true);\r\n            this.channels = this.channels.set(channelId, channel);\r\n            this.update();\r\n        }\r\n    }\r\n\r\n    getSearchUsers(){\r\n        return this.search.users.valueSeq();\r\n    }\r\n\r\n    getCurrentUser(){\r\n        return this.user;\r\n    }\r\n\r\n    fetchChannelMessages(channelId){\r\n        let channel = this.channels.get(channelId);\r\n        if (channel && !_.get(channel, 'isFetchedMessages')){\r\n            const token = _.get(this.token, '_id');\r\n            const options = {\r\n                headers: {\r\n                    authorization: token,\r\n                }\r\n            }\r\n\r\n            this.service.get(`api/channels/${channelId}/messages`, options).then((response) => {\r\n                channel.isFetchedMessages = true;\r\n                const messages = response.data;\r\n                _.each(messages, (message) => {\r\n                    this.realtime.onAddMessage(message);\r\n                });\r\n                this.channels = this.channels.set(channelId, channel);\r\n            }).catch((err) => {\r\n                console.log(\"Error in Fetching Messages from Channel! \", err);\r\n            });\r\n        }\r\n    }\r\n\r\n    setActiveChannelId(id){\r\n        this.activeChannelId = id;\r\n        this.fetchChannelMessages(id);\r\n        this.update();\r\n    }\r\n\r\n    getActiveChannel(){\r\n        const channel = this.activeChannelId ? this.channels.get(this.activeChannelId) : this.channels.first();\r\n        return channel;\r\n    }\r\n\r\n    setMessage(message, notify = false){\r\n        const id = _.toString(_.get(message, '_id'));\r\n        this.messages = this.messages.set(id, message);\r\n        const channelId = _.toString(message.channelId);\r\n        const channel = this.channels.get(channelId);\r\n\r\n        if(channel){\r\n            channel.messages = channel.messages.set(id, true);\r\n            channel.lastMessage = _.get(message, 'body', '');\r\n            channel.notify = notify;\r\n            this.channels = this.channels.set(channelId, channel);\r\n        }\r\n        else{\r\n            // Fetch channel info from server\r\n            this.service.get(`api/channels/${channelId}`).then((response) => {\r\n                const channel = _.get(response, 'data');\r\n                /*const users = _.get(channel, 'users');\r\n                _.each(users, (user) => {\r\n                    this.addUserToCache(user);\r\n                });*/\r\n\r\n                this.realtime.onAddChannel(channel);\r\n            })\r\n        }\r\n        this.update();\r\n    }\r\n\r\n    addMessage(id, message = {}){\r\n        const user = this.getCurrentUser();\r\n        message.user = user;\r\n\r\n        this.messages = this.messages.set(id, message);\r\n        const channelId = _.get(message, 'channelId');\r\n        if(channelId){\r\n            let channel = this.channels.get(channelId);\r\n            \r\n            channel.lastMessage = _.get(message, 'body', '');\r\n            // Sending channel information to server\r\n            const obj = {\r\n                action: 'create_channel',\r\n                payload: channel,\r\n            }\r\n            this.realtime.send(obj);\r\n\r\n            // Send message to all members vis ws\r\n            this.realtime.send({\r\n                action: 'create_message',\r\n                payload: message,\r\n            })\r\n\r\n            channel.messages = channel.messages.set(id, true);\r\n            channel.isNew = false;\r\n            this.channels = this.channels.set(channelId, channel);\r\n        }\r\n        this.update();\r\n    }\r\n\r\n    getMessages(){\r\n        return this.messages.valueSeq();\r\n    }\r\n\r\n    getMessagesFromChannel(channel){\r\n        let messages = new OrderedMap();\r\n        if(channel){\r\n            channel.messages.forEach((value, key) => {\r\n                const message = this.messages.get(key);\r\n                messages = messages.set(key, message);\r\n            })\r\n        }\r\n        return messages.valueSeq();\r\n    }\r\n\r\n    getMembersFromChannel(channel){\r\n        let members = new OrderedMap();\r\n\r\n        if(channel){\r\n            channel.members.forEach((value, key) => {\r\n                const userId = `${key}`;\r\n                const user = this.users.get(userId);\r\n                const loggedUser = this.getCurrentUser();\r\n                if(_.get(loggedUser, '_id') !== _.get(user, '_id')){\r\n                    members = members.set(key, user);\r\n                }\r\n            })\r\n        }\r\n\r\n        return members.valueSeq();\r\n    }\r\n\r\n    onCreateNewChannel(channel = {}){\r\n        const channelId = _.get(channel, '_id');\r\n        this.addChannel(channelId, channel);\r\n        this.setActiveChannelId(channelId);\r\n    }\r\n\r\n    addChannel(channelId, channel = {}){\r\n        this.channels = this.channels.set(`${channelId}`, channel);\r\n        this.update();\r\n    }\r\n\r\n    getChannels(){\r\n        this.channels = this.channels.sort((a, b) => a.updated < b.updated);\r\n        return this.channels.valueSeq();\r\n    }\r\n\r\n    update(){\r\n        this.app.forceUpdate();\r\n    }\r\n}\r\n\r\nexport default Store;","import React, {Component} from 'react';\r\nimport _ from 'lodash';\r\n\r\nclass SearchUser extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.handleOnClick = this.handleOnClick.bind(this);\r\n    }\r\n\r\n    handleOnClick(user){\r\n        if(this.props.onSelect){\r\n            this.props.onSelect(user);\r\n        }\r\n    }\r\n\r\n    render(){\r\n        const {store} = this.props;\r\n        const users = store.getSearchUsers();\r\n        return(\r\n            <div className=\"search-user\">\r\n                <div className=\"user-list\">\r\n                    {users.map((user, index) => {\r\n                        return (\r\n                            <div onClick={() => this.handleOnClick(user)} key={index} className=\"user\">\r\n                                <img src={_.get(user, 'avatar')} alt=\"...\"/>\r\n                                <h3>{_.get (user, 'name')}</h3>\r\n                            </div>\r\n                        );\r\n                       }\r\n                    )}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SearchUser;","import React, {Component} from 'react';\r\nimport _ from 'lodash';\r\nimport classNames from 'classnames';\r\n\r\nclass UserForm extends Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            message: null,\r\n            isLogin: true,\r\n            user: {\r\n                name: '',\r\n                email: '',\r\n                password: ''\r\n            }\r\n        }\r\n\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n        this.onTextFieldChange = this.onTextFieldChange.bind(this);\r\n        this.onClickOutside = this.onClickOutside.bind(this);\r\n    }\r\n\r\n    onClickOutside(event){\r\n        if(this.ref && !this.ref.contains(event.target)){\r\n            if(this.props.onClose){\r\n                this.props.onClose();\r\n            }\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        window.addEventListener('mousedown', this.onClickOutside);\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        window.removeEventListener('mousedown', this.onClickOutside);\r\n    }\r\n\r\n    onSubmit(event){\r\n        const {user, isLogin} = this.state;\r\n        const {store} = this.props;\r\n        event.preventDefault();\r\n        \r\n        this.setState({\r\n            message: null,\r\n        }, () => {\r\n            if(isLogin){\r\n                store.login(user.email, user.password).then((user) => {\r\n                    if(this.props.onClose){\r\n                        this.props.onClose();\r\n                    }\r\n                   \r\n                }).catch((err) => {\r\n                    this.setState({\r\n                        message: {\r\n                            body: err,\r\n                            type: 'error',\r\n                        }\r\n                    });\r\n                })\r\n            }\r\n            else{\r\n                store.register(user).then((_) => {\r\n                    this.setState({\r\n                        message: {\r\n                            body: \"Account Created!\",\r\n                            type: 'success',\r\n                        }\r\n                    }, () => {\r\n                        // Login the user\r\n                        store.login(user.email, user.password).then(() => {\r\n                            if(this.props.onClose){\r\n                                this.props.onClose();\r\n                            }\r\n                        })\r\n                    })\r\n                });\r\n            }\r\n        })\r\n    }\r\n\r\n    onTextFieldChange(event){\r\n        let {user} = this.state;\r\n        const field = event.target.name;\r\n        user[field] = event.target.value;\r\n        this.setState({\r\n            user: user\r\n        });\r\n    }\r\n\r\n    render(){\r\n        const {user, message, isLogin} = this.state;\r\n\r\n        return(\r\n            <div className=\"user-form\" ref={(ref) => this.ref = ref}>\r\n                <form onSubmit={this.onSubmit} method=\"post\">\r\n                {message ? <p className={classNames('login-message', _.get(message, 'type'))}>{_.get(message, 'body')}</p> : null}\r\n                    {!isLogin ? <div className=\"form-item\">\r\n                        <label>Name</label>\r\n                        <input onChange={this.onTextFieldChange} type=\"text\" value={_.get(user, 'name', '')} name=\"name\" placeholder=\"Your Username\"/>\r\n                    </div> : null}\r\n                    <div className=\"form-item\">\r\n                        <label>Email</label>\r\n                        <input value={_.get(user, 'email')} onChange={this.onTextFieldChange} type=\"email\" name=\"email\" placeholder=\"Email Address\" autoComplete=\"on\"/>\r\n                    </div>\r\n                    <div className=\"form-item\">\r\n                        <label>Password</label>\r\n                        <input value={_.get(user, 'password')} onChange={this.onTextFieldChange} type=\"password\" name=\"password\" placeholder=\"Password\" autoComplete=\"on\"/>\r\n                    </div>\r\n                    <div className=\"form-actions\">\r\n                        {isLogin ? <button onClick={() => {\r\n                            this.setState({\r\n                                isLogin: false,\r\n                            })\r\n                        }} type=\"button\">Create Account</button> : null}\r\n                        <button className=\"primary\" type=\"submit\">{isLogin ? 'Sign In' : 'Create Account'}</button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default UserForm;","import React, {Component} from 'react';\r\n// import _ from 'lodash';\r\n\r\nclass UserMenu extends Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.onClickOutside = this.onClickOutside.bind(this);\r\n    }\r\n\r\n    onClickOutside(event){\r\n        if(this.ref && !this.ref.contains(event.target)){\r\n            if(this.props.onClose){\r\n                this.props.onClose();\r\n            }\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        window.addEventListener('mousedown', this.onClickOutside);\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        window.removeEventListener('mousedown', this.onClickOutside);\r\n    }\r\n\r\n    render(){\r\n        const {store} = this.props;\r\n        const user = store.getCurrentUser();\r\n        return (\r\n            <div className=\"user-menu\" ref={(ref) => this.ref = ref}>\r\n                {user ?  <ul className=\"menu\">\r\n                    <li>\r\n                        <button type=\"button\">Change Profile Picture</button>\r\n                    </li>\r\n                    <li>\r\n                    <button type=\"button\">Change Password</button>\r\n                    </li>\r\n                    <li>\r\n                    <button onClick={() => {\r\n                        if(this.props.onClose){\r\n                            this.props.onClose();\r\n                        }\r\n                        store.signOut();\r\n                    }} type=\"button\">Sign Out</button>\r\n                    </li>\r\n                </ul>  : null}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default UserMenu;","import React, {Component} from 'react';\r\nimport _ from 'lodash';\r\nimport UserForm from './UserForm';\r\nimport UserMenu from './UserMenu';\r\nimport avatarDefault from '../images/avatarDefault.png';\r\n\r\nclass UserBar extends Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            showUserForm: false,\r\n            showUserMenu: false,\r\n        };\r\n    }\r\n\r\n    render(){\r\n        const {store} = this.props;\r\n        const me = store.getCurrentUser();\r\n        const profilePicture = _.get(me, 'avatar');\r\n        const isConnected = store.isConnected();\r\n\r\n        return(\r\n            <div className=\"user-bar\">\r\n                {!me ? <button onClick={() => {\r\n                    this.setState({\r\n                        showUserForm: true,\r\n                    })\r\n                }} type=\"button\" className=\"login-button\">Sign in</button> : \r\n                <div onClick={() => {\r\n                        this.setState({\r\n                            showUserMenu: true,\r\n                        })\r\n                    }} className=\"profile-name\"><p className=\"profile-name-text\">{_.get(me, 'name')}</p>\r\n                        <span className=\"conn-status\"><p className=\"conn-status-text\">Status: </p> {me && !isConnected ? <div className=\"conn-status-reconnect\">Disconnected</div> : <div className=\"conn-status-online\">Online</div>}</span></div>\r\n                }\r\n                \r\n                    \r\n                <div onClick={() => {\r\n                    if(me){\r\n                        this.setState({\r\n                            showUserMenu: true,\r\n                        })\r\n                    }\r\n                    else{\r\n                        this.setState({\r\n                            showUserForm: true,\r\n                        })\r\n                    }\r\n                }} className=\"profile-image\"><img src={profilePicture ? profilePicture : avatarDefault} alt=\"Avatar\"/></div>\r\n                {!me && this.state.showUserForm ? <UserForm onClose={() => {\r\n                    this.setState({\r\n                        showUserForm: false,\r\n                    })\r\n                }} store={store} /> : null}\r\n\r\n                {this.state.showUserMenu ?\r\n                <UserMenu store={store} onClose={() => {\r\n                    this.setState({\r\n                        showUserMenu: false,\r\n                    })\r\n                }}/> : null}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default UserBar;","import React, { Component } from 'react';\r\nimport className from 'classnames';\r\n// import avatarDefault from '../images/avatarDefault.png';\r\n// import settingsIcon from '../images/settings.png';\r\nimport messageIcon from '../images/message.png';\r\nimport sendIcon from '../images/send.png';\r\nimport {OrderedMap} from 'immutable';\r\nimport _ from 'lodash';\r\nimport {ObjectID} from '../helpers/objectid';\r\nimport SearchUser from './SearchUser';\r\nimport UserBar from './UserBar'\r\nimport moment from 'moment';\r\n\r\nclass Messenger extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            height: window.innerHeight,\r\n            newMessage: '',\r\n            searchUser: '',\r\n            showSearchUser: false,\r\n        }\r\n\r\n        this._onResize = this._onResize.bind(this);\r\n        this.handleSend = this.handleSend.bind(this);\r\n        this.renderMessage = this.renderMessage.bind(this);\r\n        this.scrollToBottomMessage = this.scrollToBottomMessage.bind(this);\r\n        this._onCreateChannel = this._onCreateChannel.bind(this);\r\n        this.renderChannelTitle = this.renderChannelTitle.bind(this);\r\n        this.renderChannelAvatars = this.renderChannelAvatars.bind(this);\r\n    }\r\n\r\n    renderChannelAvatars(channel){\r\n        const {store} = this.props;\r\n        const members = store.getMembersFromChannel(channel);\r\n        const maxDisplayNumber = 4;\r\n        const total = members.size > maxDisplayNumber ? maxDisplayNumber : members.size;\r\n        const avatars = members.map((user, index) => {\r\n            return index < maxDisplayNumber ? <img key={index} src={_.get(user, 'avatar')} alt={_.get(user, 'name')} /> : null\r\n        });\r\n\r\n        return <div className={className('channel-avatars', `channel-avatars-${total}`)}>{avatars}</div>\r\n    }\r\n\r\n    renderChannelTitle(channel = null){\r\n        if(!channel){\r\n            return null;\r\n        }\r\n        const {store} = this.props;\r\n        const members = store.getMembersFromChannel(channel);\r\n        const names = [];\r\n        members.forEach((user) => {\r\n            const name = _.get(user, 'name');\r\n            names.push(name);\r\n        });\r\n\r\n        let title = _.join(names, ', ');\r\n        if(!title && _.get(channel, 'isNew')){\r\n            title = 'New Channel';\r\n        }\r\n\r\n        return(\r\n            <h2>{title}</h2>\r\n        );\r\n    }\r\n\r\n    _onCreateChannel(){\r\n        const {store} = this.props;\r\n\r\n        const currentUser = store.getCurrentUser();\r\n        const currentUserId = _.get(currentUser, '_id');\r\n\r\n        const channelId = new ObjectID().toString();\r\n        const channel = {\r\n            _id: channelId,\r\n            title: \"\",\r\n            lastMessage: \"\",\r\n            members: new OrderedMap(),\r\n            messages: new OrderedMap(),\r\n            isNew: true,\r\n            userId: currentUserId,\r\n            created: new Date(),\r\n        };\r\n        channel.members = channel.members.set(currentUserId, true);\r\n        store.onCreateNewChannel(channel);\r\n    }\r\n    scrollToBottomMessage(){\r\n        if(this.messageRef){\r\n            this.messageRef.scrollTop = this.messageRef.scrollHeight;\r\n        }\r\n    }\r\n\r\n    renderMessage(message){\r\n        const messageBody = _.get(message, 'body', '');\r\n        const html =  _.split(messageBody, '\\n').map((m, key) => {\r\n            return <p key={key} dangerouslySetInnerHTML={{__html: m}}></p>\r\n        })\r\n        return html;\r\n    }\r\n    \r\n    handleSend(){\r\n        const {newMessage} = this.state;\r\n        const {store} = this.props;\r\n\r\n        if (_.trim(newMessage).length){\r\n            const messageId = new ObjectID().toString();\r\n            const channel = store.getActiveChannel();\r\n            const channelId = _.get(channel, '_id', null)\r\n            const currentUser = store.getCurrentUser();\r\n            const message = {\r\n                _id: messageId,\r\n                channelId: channelId,\r\n                body: newMessage,\r\n                userId: _.get(currentUser, '_id'),\r\n                me: true,\r\n            };\r\n            store.addMessage(messageId, message);\r\n            this.setState({\r\n                newMessage: '',\r\n            })\r\n        }\r\n    }\r\n\r\n    _onResize(){\r\n        this.setState({\r\n            height: window.innerHeight\r\n        });\r\n    }\r\n\r\n    componentDidMount(){\r\n        window.addEventListener('resize', this._onResize);\r\n    }\r\n\r\n    componentDidUpdate(){\r\n        this.scrollToBottomMessage();\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        window.removeEventListener('resize', this._onResize);\r\n    }\r\n\r\n    render(){\r\n        const {store} = this.props;\r\n        const {height} = this.state;\r\n\r\n        const messengerStyle = {\r\n            height: height - 50, // Removing header height\r\n        }\r\n\r\n        const activeChannel = store.getActiveChannel();\r\n        const messages = store.getMessagesFromChannel(activeChannel);\r\n        const channels = store.getChannels();\r\n        const members = store.getMembersFromChannel(activeChannel);\r\n        \r\n        return(\r\n            <div className=\"messenger\">\r\n                <div className=\"messenger-header\">\r\n                    <div className=\"left\">\r\n                        {/* <div className=\"left-action\"><button><img src={settingsIcon} alt=\"Settings\"/></button></div> */}\r\n                        <h2>ChatQube<sup>BETA</sup></h2>\r\n                        <div onClick={this._onCreateChannel}className=\"right-action\"><button><img src={messageIcon} alt=\"New Message\"/></button></div>\r\n                    </div>\r\n                <div className=\"middle\">\r\n                    {_.get(activeChannel, 'isNew') ? \r\n                    <div className=\"toolbar\">\r\n                        <label >To:</label>\r\n                        {\r\n                            members.map((user, key) => {\r\n                                return(\r\n                                <span onClick={() => {\r\n                                    store.removeMemberFromChannel(activeChannel, user)\r\n                                }} key={key}>{_.get(user, 'name')}</span>\r\n                                ); \r\n                            })\r\n                        }\r\n                        <input placeholder=\"Type username...\" onChange={(event) => {\r\n                            const searchUserText = _.get(event, 'target.value')\r\n                            this.setState({\r\n                                searchUser: searchUserText,\r\n                                showSearchUser: true,\r\n                            }, () => {\r\n                                store.startSearchUsers(searchUserText);\r\n                            });\r\n                        }} type=\"text\" value={this.state.searchUser}/>\r\n                        {this.state.showSearchUser ? <SearchUser \r\n                        onSelect={(user) => {\r\n                            this.setState({\r\n                                showSearchUser: false,\r\n                                searchUser: '',\r\n                            }, () => {\r\n                                const userId = _.get(user, '_id');\r\n                                const channelId = _.get(activeChannel, '_id');\r\n\r\n                                store.addUserToChannel(channelId, userId);\r\n                            });\r\n                        }}\r\n                        store={store}/> : null}\r\n                    </div> : this.renderChannelTitle(activeChannel) /*Avoid Overflow in CSS*/} \r\n                    </div>\r\n                    <div className=\"right\">\r\n                        <UserBar store={store} />\r\n                    </div>\r\n                </div>\r\n                <div style={messengerStyle} className=\"messenger-body\">\r\n                    <div className=\"messenger-sidebar-left\"> \r\n                        <div className=\"channels\">\r\n                            {channels.map((channel, key) => {\r\n                                return (\r\n                                    <div onClick={(key) => {\r\n                                        store.setActiveChannelId(channel._id);\r\n                                    }\r\n                                }\r\n                                    key={channel._id} \r\n                                    className={className('channel', {'notify': _.get(channel, 'notify') === true}, {'active': _.get(activeChannel, '_id') === _.get(channel, '_id', null)})}>\r\n                                     <div className=\"user-image\">\r\n                                        {this.renderChannelAvatars(channel)}\r\n                                    </div>\r\n                                    <div className=\"channel-info\">\r\n                                      {this.renderChannelTitle(channel)}\r\n                                    <p>{channel.lastMessage}</p>\r\n                                </div>\r\n                            </div>\r\n                                );\r\n                            })}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"messenger-content\">\r\n                        <div ref={(ref) => this.messageRef = ref} className=\"messages\">\r\n                            {messages.map((message, index) => {\r\n\r\n                                const user = _.get(message, 'user');\r\n                                return(\r\n                                <div key={index} className={className('message', {'me': message.me})}>\r\n                                    <div className=\"message-user-image\"><img src={_.get(user, 'avatar')} alt=\"Avatar\"/></div>\r\n                                    <div className=\"message-body\">\r\n                                        <div className=\"message-author\">{message.me ? \"You said:\" : _.get(message, 'user.name', '') + \" says:\"}</div>\r\n                                        <div className=\"message-text\">\r\n                                        {this.renderMessage(message)}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            )\r\n                            })}\r\n                        </div>\r\n                        {activeChannel && members.size > 0 ? <div className=\"message-input\">\r\n                            <div className=\"text-input\">\r\n                                <textarea onKeyUp={(event) => {\r\n                                    if (event.key === 'Enter' && !event.shiftKey){\r\n                                        this.handleSend();\r\n                                    }\r\n                                }} onChange={(event) => {\r\n                                    this.setState({newMessage: _.get(event, 'target.value')});\r\n                                }} value={this.state.newMessage} placeholder=\"Type a message... (Shift + Enter for Newline)\" name=\"\" id=\"\" cols=\"30\" rows=\"10\"></textarea>\r\n                            </div>\r\n                            <div className=\"actions\">\r\n                                <button onClick={this.handleSend} className=\"send\"><img src={sendIcon} alt=\"Send\"/></button>\r\n                            </div>\r\n                        </div> : null}\r\n                    </div>\r\n                    <div className=\"messenger-sidebar-right\">\r\n                        {members.size > 0 ? <div>\r\n                            <h2 className=\"title\">Chat Members</h2>\r\n                            <div className=\"members\">\r\n                                {members.map((member, key) => {\r\n                                    const isOnline = _.get(member, 'online', false);\r\n                                    return (\r\n                                        <div key={key} className=\"member\">\r\n                                            <div className=\"user-image\">\r\n                                                <img src={_.get(member, 'avatar')} alt=\"Avatar\"/>\r\n                                                <span className={className('user-status', {'online': isOnline})} />\r\n                                            </div>\r\n                                            <div className=\"member-info\">\r\n                                    <h2>{member.name} | <span className={className('user-status', {'online': isOnline})}>{isOnline ? 'Online' : 'Offline'}</span></h2>\r\n                                    <p>Joined: {moment(member.created).fromNow()}</p>\r\n                                            </div>\r\n                                        </div>\r\n                                    );\r\n                                })}\r\n                            </div>\r\n                            \r\n                        </div> : null}\r\n                        <div className=\"contact-email\">Contact: <a href=\"mailto:chatqube@gmail.com\">chatqube@gmail.com</a></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Messenger;","import React, { Component } from 'react';\r\nimport Store from '../store';\r\nimport Messenger from './Messenger';\r\nimport {isMobile} from 'react-device-detect';\r\n\r\nclass App extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            store: new Store(this),\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        const {store} = this.state;\r\n        store.updateUserOnLoad(); // To prevent loading user before App component is mounted\r\n    }\r\n\r\n    render(){\r\n        if(isMobile){\r\n            return(\r\n                <div className=\"mobile-app\">\r\n                        <h1 className=\"mobile-app-heading\">Mobile Version is Coming Soon!</h1>\r\n                        <p className=\"mobile-app-text\">\r\n                        To use <b>ChatQube</b>, open this web application on a PC.\r\n                        </p>\r\n                </div>\r\n            );\r\n        }\r\n        else{\r\n            const {store} = this.state;\r\n            return(\r\n                <div className=\"messenger-wrapper\">\r\n                    <Messenger store = {store}/>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/style.css';\nimport App from './components/App';\n// import * as serviceWorker from './serviceWorker';\n\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n// serviceWorker.unregister();\n\n"],"sourceRoot":""}